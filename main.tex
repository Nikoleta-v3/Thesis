\documentclass[11pt, twoside, a4paper]{book}

% ----------------------------------------------------------------------------
% Preamble
% ----------------------------------------------------------------------------

% Package to manage page layout
\usepackage[a4paper, top=25.4mm, bottom=25.4mm, right=25.4mm, left=40mm]{geometry}

% Line spacing: single=1 one-and-a-half=1.3 double=1.6
\linespread{1.5}

% Package to manage appendix
\usepackage[toc]{appendix}

% Package to insert empty lines between paragraphs
\usepackage[parfill]{parskip}

% Package to manage headers and footers
\usepackage{fancyhdr}

% define two header-footer styles
% 'normal' for most pages
\fancypagestyle{normal}{
\fancyhf{}
\fancyhead[L]{\slshape \leftmark} %chapter
\fancyhead[R]{\thepage} %footer
\renewcommand{\headrulewidth}{1pt}
}
% 'chapterstyle' for start of chapters (no chapter in header)
\fancypagestyle{chapterstyle}{
    \fancyhf{}
    \fancyhead[R]{\thepage}
    \renewcommand{\headrulewidth}{0pt}% Line at the header invisible
}

% Package to automatically change headerfooter style at start of chapters
\usepackage{etoolbox}
\patchcmd{\chapter}{\thispagestyle{plain}}{\thispagestyle{chapterstyle}}{}{}


% Package to get hyperrlinks
\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}

% Mathematics packages
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{mathtools}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\def\arraystretch{1.5}

% A package to include graphics files (jpg, png, eps, pdf etc...)
\usepackage{graphicx}
\usepackage{adjustbox}

% A package for strike through
\usepackage{soul}

% Package to add features for tables
\usepackage{multicol,multirow,array}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{makecell}
\usepackage[table]{xcolor}
\usepackage{boxhandler}
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}
\setlength{\heavyrulewidth}{1.5pt}
\setlength{\abovetopsep}{4pt}

% Package to add color for background for tables
\usepackage{color, colortbl, xcolor}
\definecolor{Gray}{gray}{0.92}
\definecolor{background}{RGB}{5, 66, 81}

% Package to allow sub-figures
\usepackage{subcaption}

% Package to add algorithms
\usepackage[ruled,vlined,algochapter]{algorithm2e}
\usepackage[noend]{algpseudocode}
\usepackage{setspace}
\makeatletter
\def\BState{\State\hskip-\ALG@thistlm}
\makeatother

\usepackage{cite}

\usepackage{standalone}
\usepackage{tikz}
\usetikzlibrary{er,positioning, calc, patterns, arrows, backgrounds}
\usetikzlibrary{decorations.pathreplacing}
\definecolor{bostonuniversityred}{rgb}{0.8, 0.0, 0.0}
\definecolor{carrotorange}{rgb}{0.93, 0.57, 0.13}
\tikzset{
    ultra thick/.style={line width=1.6pt},
    % Define standard arrow tip
    >=stealth',
    % Define style for boxes
    punkt/.style={
           ellipse,
           draw=black,
           fill=gray!7,
           text width=15em,
           minimum height=8em,
           text centered,
           font=\large},
    % Define arrow style
    pil/.style={
           ->,
           ultra thick,
           shorten <=2pt,
           shorten >=2pt,},
    doublepil/.style={
     latex'-latex',
     ultra thick,
     shorten <=2pt,
     shorten >=2pt,},
    chain/.style={
        rectangle,
        rounded corners,
        fill=orange!80,
        very thick,
        text width=6em,
        minimum height=3.5em,
        text centered},
    input/.style={
        circle,
        fill=gray!70,
        text width=2em,
        minimum height=1.5em,
        text centered},
    output/.style={
        circle,
        fill=gray!30,
        text width=2em,
        minimum height=1.5em,
        text centered},
    sigmoid/.style={
        rectangle,
        draw=black,
        fill=carrotorange!70,
        text width=3em,
        minimum height=4em,
        text centered},
    operator/.style={
        circle,
        fill=bostonuniversityred!90,
        draw=black,
        text width=2em,
        minimum height=1.5em,
        text centered},
    hneuron/.style={
        circle,
        text width=2em,
        minimum height=1.5em,
        inner sep=0pt,
        fill=orange!80},
}
\usepackage{minted}

\definecolor{source_bg}{RGB}{253,246,227}
\newenvironment{sourcepy}
{
\VerbatimEnvironment
\begin{minted}[
    bgcolor=source_bg,
    framesep=2mm,
    frame=lines,
    baselinestretch=1.2,
    fontsize=\scriptsize,
    linenos,
    framerule=1pt
    ]{python}}
{\end{minted}}

\definecolor{bg}{RGB}{254, 252, 254}
\newenvironment{usagepy}
{
\VerbatimEnvironment
\begin{minted}[
    bgcolor=bg,
    framesep=2mm,
    frame=lines,
    baselinestretch=1.2,
    fontsize=\scriptsize,
    linenos,
    framerule=1pt
    ]{python}}
{\end{minted}}

\newenvironment{shell}
{
\VerbatimEnvironment
\begin{minted}[
    bgcolor=black!15,
    framesep=2mm,
    frame=lines,
    baselinestretch=1.2,
    fontsize=\scriptsize,
    framerule=1pt
    ]{shell}}
{\end{minted}}

\usepackage{authblk}
\usepackage{cancel}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%PARAMETERS%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\totalarticles}{\input{src/chapters/03/tex/total_articles.txt}}
\newcommand{\manual}{\input{src/chapters/03/paper/bibliometric-study-of-the-prisoners-dilemma/assets/prov_manual.txt}}
\newcommand{\authors}{\input{src/chapters/03/tex/number_of_authors.txt}}
\newcommand{\edges}{\input{src/chapters/03/tex/num_Edges.txt}}
\newcommand{\isolated}{\input{src/chapters/03/paper/bibliometric-study-of-the-prisoners-dilemma/assets/num_Isolated_nodes.txt}}
\newcommand{\isolatedpercentage}{\input{src/chapters/03/paper/bibliometric-study-of-the-prisoners-dilemma/assets/perce_Isolated_nodes.txt}}
\newcommand{\connectedcomponents}{\input{src/chapters/03/paper/bibliometric-study-of-the-prisoners-dilemma/assets/num_Connected_components.txt}}
\newcommand{\communities}{\input{src/chapters/03/paper/bibliometric-study-of-the-prisoners-dilemma/assets/num_Communities.txt}}
\newcommand{\largestcc}{\input{src/chapters/03/paper/bibliometric-study-of-the-prisoners-dilemma/assets/Size_of_largest_component.txt}}
\newcommand{\clustering}{\input{src/chapters/03/paper/bibliometric-study-of-the-prisoners-dilemma/assets/Clustering_coeff.txt}}

\newcommand{\uniquenumberofseeds}{\input{src/chapters/04/tex/unique_number_of_seeds.tex}}
\newcommand{\numberofalltournaments}{\input{src/chapters/04/tex/number_of_all_tournaments.tex}}
\newcommand{\numberofstrategies}{\input{src/chapters/04/paper/meta-analysis-of-prisoners-dilemma-tournaments/paper/unique_number_of_strategies.tex}}

\newcommand{\numberofstrategiesbestsequences}{\input{src/chapters/06/tex/unique_strategies_opponents_best_sequences.tex}}
\newcommand{\deterministicstrategies}{\input{src/chapters/06/tex/deterministic_strategies.tex}}
\newcommand{\stochasticstrategies}{\input{src/chapters/06/tex/stochastic_strategies.tex}}
\newcommand{\deterministicsequences}{\input{src/chapters/06/tex/best_response_deterministic_number.tex}}
\newcommand{\stochasticsequences}{\input{src/chapters/06/tex/best_response_stochastic_number.tex}}
\newcommand{\deterministicuniquesequences}{\input{src/chapters/06/tex/best_response_deterministic_unique_number.tex}}
\newcommand{\stochasticuniquesequences}{\input{src/chapters/06/tex/best_response_stochastic_unique_number.tex}}
\newcommand{\totalsequences}{\input{src/chapters/06/tex/total_sequences.tex}}
\newcommand{\reproducible}{\input{src/chapters/06/tex/reproducible_percentage.tex}}
\newcommand{\nonreproducible}{\input{src/chapters/06/tex/non_reproducible_percentage.tex}}

\newcommand{\metatournamentslstm}{\input{src/chapters/07/tex/number_of_meta_tournaments.tex}}
\newcommand{\topstrategies}{\input{src/chapters/07/tex/top_strategies_total.tex}}
\newcommand{\basicstrategies}{\input{src/chapters/07/tex/basic_strategies_total.tex}}
\newcommand{\acrossstrategies}{\input{src/chapters/07/tex/strategies_across_total.tex}}
\newcommand{\topsequences}{\input{src/chapters/07/tex/top_strategies_sequences.tex}}
\newcommand{\basicsequences}{\input{src/chapters/07/tex/basic_strategies_sequences.tex}}
\newcommand{\acrosssequences}{\input{src/chapters/07/tex/across_strategies_sequences.tex}}
\newcommand{\lstmstrategies}{\input{src/chapters/07/tex/number_of_lstm_strategies.tex}}
\newcommand{\lstmnetworks}{\input{src/chapters/07/tex/number_of_lstm_networks.tex}}
\newcommand{\trainingpoint}{\input{src/chapters/07/tex/total_training_points.tex}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{xspace}
\newcommand{\TitForTat}{{\fontfamily{qbk}\selectfont Tit For Tat}\xspace}
\newcommand{\Gradual}{{\fontfamily{qbk}\selectfont Gradual}\xspace}
\newcommand{\Grudger}{{\fontfamily{qbk}\selectfont Grudger}\xspace}
\newcommand{\Random}{{\fontfamily{qbk}\selectfont Random}\xspace}
\newcommand{\Spite}{{\fontfamily{qbk}\selectfont Spite}\xspace}
\newcommand{\GrimTrigger}{{\fontfamily{qbk}\selectfont GrimTrigger}\xspace}
\newcommand{\Grim}{{\fontfamily{qbk}\selectfont Grim}\xspace}
\newcommand{\TitforTwoTats}{{\fontfamily{qbk}\selectfont Tit for Two Tats}\xspace}
\newcommand{\KPavlovC}{{\fontfamily{qbk}\selectfont KPavlovC}\xspace}
\newcommand{\Pavlov}{{\fontfamily{qbk}\selectfont Pavlov}\xspace}
\newcommand{\PavlovD}{{\fontfamily{qbk}\selectfont PavlovD}\xspace}
\newcommand{\AdaptivePavlov}{{\fontfamily{qbk}\selectfont Adaptive Pavlov}\xspace}
\newcommand{\Simpleton}{{\fontfamily{qbk}\selectfont Simpleton}\xspace}
\newcommand{\OmegaTFT}{{\fontfamily{qbk}\selectfont Omega Tit For Tat}\xspace}
\newcommand{\NiceandForgiving}{{\fontfamily{qbk}\selectfont Nice and Forgiving}\xspace}
\newcommand{\ContriteTitForTat}{{\fontfamily{qbk}\selectfont Contrite Tit For Tat}\xspace}
\newcommand{\AdaptiveTitForTat}{{\fontfamily{qbk}\selectfont Adaptive Tit For Tat}\xspace}
\newcommand{\Cooperator}{{\fontfamily{qbk}\selectfont Cooperator}\xspace}
\newcommand{\Defector}{{\fontfamily{qbk}\selectfont Defector}\xspace}
\newcommand{\GenerousTitForTat}{{\fontfamily{qbk}\selectfont Generous Tit For Tat}\xspace}
\newcommand{\PunishTwice}{{\fontfamily{qbk}\selectfont Punish Twice}\xspace}
\newcommand{\PunishOnceForTwoTats}{{\fontfamily{qbk}\selectfont Punish Once For Two Tats}\xspace}
\newcommand{\PunishTwiceandWait}{{\fontfamily{qbk}\selectfont Punish Twice and Wait}\xspace}
\newcommand{\FortressThree}{{\fontfamily{qbk}\selectfont Fortress3}\xspace}
\newcommand{\FortressFour}{{\fontfamily{qbk}\selectfont Fortress4}\xspace}
\newcommand{\EvolvedLookerUpTwoTwoTwo}{{\fontfamily{qbk}\selectfont Evolved LookerUp 2 2 2}\xspace}
\newcommand{\EvolvedHMMFive}{{\fontfamily{qbk}\selectfont Evolved HMM 5}\xspace}
\newcommand{\EvolvedFSMSixTeen}{{\fontfamily{qbk}\selectfont Evolved FSM 16}\xspace}
\newcommand{\InversePunisher}{{\fontfamily{qbk}\selectfont Inverse Punisher}\xspace}
\newcommand{\EvolvedLookerUpOneOneOne}{{\fontfamily{qbk}\selectfont EvolvedLookerUp 1 1 1}\xspace}
\newcommand{\DoubleCrosser}{{\fontfamily{qbk}\selectfont DoubleCrosser}\xspace}
\newcommand{\BackStabber}{{\fontfamily{qbk}\selectfont BackStabber}\xspace}
\newcommand{\FoolMeOnce}{{\fontfamily{qbk}\selectfont Fool Me Once}\xspace}
\newcommand{\WinnerTwelve}{{\fontfamily{qbk}\selectfont Winner 12}\xspace}
\newcommand{\DBS}{{\fontfamily{qbk}\selectfont DBS}\xspace}
\newcommand{\EvolvedFSMSixTeenNoiseZeroFive}{{\fontfamily{qbk}\selectfont Evolved FSM 16 Noise 05}\xspace}
\newcommand{\EvolvedANNFiveNoiseZeroFive}{{\fontfamily{qbk}\selectfont Evolved ANN 5 Noise 05}\xspace}
\newcommand{\PSOGamblerTwoTwoTwoNoiseZeroFive}{{\fontfamily{qbk}\selectfont PSO Gambler 2 2 2 Noise 05}\xspace}
\newcommand{\SpitefulTitForTat}{{\fontfamily{qbk}\selectfont Spiteful Tit For Tat}\xspace}
\newcommand{\EugineNier}{{\fontfamily{qbk}\selectfont Eugine Nier}\xspace}
\newcommand{\LevelPunisher}{{\fontfamily{qbk}\selectfont Level Punisher}\xspace}
\newcommand{\ShortMem}{{\fontfamily{qbk}\selectfont ShortMem}\xspace}
\newcommand{\Grumpy}{{\fontfamily{qbk}\selectfont Grumpy}\xspace}
\newcommand{\e}{{\fontfamily{qbk}\selectfont e}\xspace}
\newcommand{\BetterandBetter}{{\fontfamily{qbk}\selectfont Better and Better}\xspace}
\newcommand{\Bully}{{\fontfamily{qbk}\selectfont Bully}\xspace}
\newcommand{\ReverseTitForTat}{{\fontfamily{qbk}\selectfont Reverse Tit For Tat}\xspace}
\newcommand{\GradualKiller}{{\fontfamily{qbk}\selectfont Gradual Killer}\xspace}
\newcommand{\HardProber}{{\fontfamily{qbk}\selectfont Hard Prober}\xspace}
\newcommand{\SolutionBOne}{{\fontfamily{qbk}\selectfont Solution B1}\xspace}
\newcommand{\Raider}{{\fontfamily{qbk}\selectfont Raider}\xspace}
\newcommand{\NiceMetaWinner}{{\fontfamily{qbk}\selectfont Nice Meta Winner}\xspace}
\newcommand{\NMWEMemoryOne}{{\fontfamily{qbk}\selectfont NMWE Memory One}\xspace}
\newcommand{\HardTitForTat}{{\fontfamily{qbk}\selectfont Hard Tit For Tat}\xspace}
\newcommand{\FSMSixTeen}{{\fontfamily{qbk}\selectfont FSM 16}\xspace}
\newcommand{\Aggravater}{{\fontfamily{qbk}\selectfont Aggravater}\xspace}
\newcommand{\Alternator}{{\fontfamily{qbk}\selectfont Alternator}\xspace}
\newcommand{\TFOne}{{\fontfamily{qbk}\selectfont TF1}\xspace}
\newcommand{\Adaptive}{{\fontfamily{qbk}\selectfont Adaptive}\xspace}
\newcommand{\Champion}{{\fontfamily{qbk}\selectfont Champion}\xspace}
\newcommand{\ZDExtortTwo}{{\fontfamily{qbk}\selectfont ZDExtort2}\xspace}
\newcommand{\Retaliate}{{\fontfamily{qbk}\selectfont Retaliate}\xspace}
\newcommand{\PeriodicPlayerCD}{{\fontfamily{qbk}\selectfont Periodic Player \(CD\)}\xspace}
\newcommand{\PeriodicPlayerDC}{{\fontfamily{qbk}\selectfont Periodic Player \(DC\)}\xspace}
\newcommand{\PeriodicPlayerCCD}{{\fontfamily{qbk}\selectfont Periodic Player \(CCD\)}\xspace}
\newcommand{\PeriodicPlayerDDC}{{\fontfamily{qbk}\selectfont Periodic Player \(DDC\)}\xspace}
\newcommand{\CyclerCD}{{\fontfamily{qbk}\selectfont  Cycler \(CD\)}\xspace}
\newcommand{\CyclerDC}{{\fontfamily{qbk}\selectfont  Cycler \(DC\)}\xspace}
\newcommand{\CyclerCCD}{{\fontfamily{qbk}\selectfont Cycler \(CCD\)}\xspace}
\newcommand{\CyclerDDC}{{\fontfamily{qbk}\selectfont Cycler \(DDC\)}\xspace}
\newcommand{\Cycler}{{\fontfamily{qbk}\selectfont Cycler}\xspace}
% ----------------------------------------------------------------------------
% The actual report
% ----------------------------------------------------------------------------
\usepackage{tocloft}
\begin{document}

\newgeometry{a4paper, top=25.4mm, bottom=25.4mm, right=25.4mm, left=25.4mm}
\input{title}
\restoregeometry

\frontmatter
\pagestyle{chapterstyle} %set header-footer style for front matter
\input{abstract.tex}
\input{acknowledgements.tex}
\input{dissemination.tex}

\tableofcontents
\listoffigures
\listoftables
\listofalgorithms

\mainmatter
\pagestyle{normal} %set header-footer style rest of report


\input{src/chapters/01/main.tex}
\input{src/chapters/02/main.tex}
\input{src/chapters/03/main.tex}
\input{src/chapters/04/main.tex}
\input{src/chapters/05/main.tex}
\input{src/chapters/06/main.tex}
\input{src/chapters/07/main.tex}
\input{src/chapters/08/main.tex}



\bibliographystyle{abbrv}
\bibliography{bibliography.bib}

\begin{appendices}
\input{src/chapters/03/appendix.tex}

\chapter{List of strategies}
\input{src/chapters/04/tex/strategies_appendix_04.tex}
\input{src/chapters/06/tex/strategies_appendix_06.tex}
\input{src/chapters/07/appendix.tex}

\chapter{Further analysis on features importance}
\input{src/chapters/04/tex/correlations_graphical_representations_appendix.tex}
\input{src/chapters/04/tex/regression_appendix.tex}
\input{src/chapters/04/tex/random_forest_appendix.tex}

\input{parameters_per_chapter.tex}
\end{appendices}

\end{document}
